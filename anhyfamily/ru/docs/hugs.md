### Объятия в AnhyFamily

Плагин AnhyFamily позволяет игрокам обнимать других игроков, если это разрешено настройками. Существуют семейные и персональные разрешения на объятия, которые позволяют игрокам настраивать возможность объятий в соответствии со своими пожеланиями.

#### Как Обнимать Других Игроков

Для того чтобы обнять другого игрока, необходимо выполнить несколько условий:

1. **Позиция Игрока**: Игрок должен находиться в определенной позиции, с наклоном головы вперед, то есть его взгляд должен быть направлен вниз под углом между 0 и 70 градусами.
2. **Состояние Игрока**: Игрок должен находиться в состоянии приседания (sneaking).
3. **Расстояние**: Расстояние до игрока, которого вы хотите обнять, должно быть менее 2 блоков.
4. **Клик Правой Кнопкой Мыши**: Нужно кликнуть правой кнопкой мыши по игроку, которого вы хотите обнять.

Если все эти условия выполнены, объятия будут успешными, при условии, что объятия разрешены настройками.

#### Семейные Разрешения

Семейные разрешения настраиваются с помощью команд, аналогичных предыдущим блокам:

1. **/fhugs access `<PlayerName>` `<allow|deny|default>`**  
   Установка персонального доступа для члена семьи. Можно разрешить, запретить или установить доступ по умолчанию.

2. **/fhugs default `<children|parents>` `<allow|deny>`**  
   Установка группового доступа для всех детей или родителей. Персональные разрешения имеют высший приоритет над групповыми.

3. **/fhugs check `<PlayerName>`**  
   Проверка, имеет ли данный игрок доступ к объятиям. Учитываются как персональные, так и групповые разрешения.

4. **/fhugs defaultcheck `<children|parents>`**  
   Проверка разрешения для группы детей или родителей на объятия.

Все ответы на эти команды являются интерактивными сообщениями с кликабельными элементами, позволяющими изменять настройки без ввода команд.

#### Персональные Разрешения

Возможность объятий не ограничивается только семьей и членами семьи. Существуют также персональные разрешения для любых игроков, которые каждый игрок может установить или запретить:

1. **/fhugs allow `<PlayerName>`**  
   Разрешить объятия для конкретного игрока.

2. **/fhugs deny `<PlayerName>`**  
   Запретить объятия для конкретного игрока.

Персональные разрешения и запреты имеют высший приоритет, даже выше семейных персональных разрешений. Это означает, что можно запретить объятия даже для супругов.

#### Глобальные Разрешения

1. **/fhugs allowall `<true|false>`**  
   Установка глобального разрешения на объятия для всех игроков. Если установлено на `true`, объятия разрешены всем игрокам, это имеет высший приоритет над семейными разрешениями. При установке `true`, `denyall` автоматически изменяется на `false`.

2. **/fhugs denyall `<true|false>`**  
   Установка глобального запрета на объятия для всех игроков. Если установлено на `true`, объятия запрещены всем игрокам, кроме тех, кто имеет персональное разрешение или семейное разрешение. При установке `true`, `allowall` автоматически изменяется на `false`.

#### Другие Команды

1. **/fhugs remove `<PlayerName>`**  
   Удаляет игрока из списка персональных разрешений и запретов.

2. **/fhugs list**  
   Показывает список персональных разрешений и запретов.

3. **/fhugs globalstatus**  
   Показывает текущий статус глобального разрешения на объятия (allowall, denyall).

#### Использование Команды Без Аргументов

Если выполнить команду **/fhugs** без аргументов, глядя на другого игрока, вы получите сообщение с информацией о том, разрешил ли этот игрок объятия.

#### Последствия Неудачной Попытки Объятий

Если игрок попытается обнять другого игрока, который не разрешил это, он получит незначительное повреждение и будет откинут на несколько блоков, имитируя пощечину.

### Примеры Использования Команд

- **Разрешить объятия конкретному игроку:**
  ```
  /fhugs allow <PlayerName>
  ```

- **Запретить объятия конкретному игроку:**
  ```
  /fhugs deny <PlayerName>
  ```

- **Установить глобальное разрешение на объятия для всех:**
  ```
  /fhugs allowall true
  ```

- **Установить глобальный запрет на объятия для всех:**
  ```
  /fhugs denyall true
  ```

- **Проверить статус глобального разрешения на объятия:**
  ```
  /fhugs globalstatus
  ```

- **Проверить, разрешены ли объятия, глядя на другого игрока:**
  ```
  /fhugs
  ```